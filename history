$Id$

------------------------------------------------
 The Virtual Monte Carlo package
 Copyright (C) 2007, 2008 Ivana Hrivnacova
 All rights reserved.

 For the licensing terms see geant4_vmc/LICENSE.
 Contact: vmc@pcroot.cern.ch
-------------------------------------------------

     
Tags (history):
===============
  06/03/2009
  v2-6:
    Geant4 VMC:
       - Adaptation to the new TGeo mag field interface
       - Implemented TVirtualMC::SetUserDecay
       - Including the names of Root assemblies in volume names 
         when exporting Root geometry in Geant4 (optinal)
       - Removing G4VisManager inheritance from TG4VisManager;
         G4VisExecutive is now used for instatiating G4 visualzation
         drivers   
      Fixes: 
       - Fix in mapping primary particles Ids in TG4TrackManager.
       - Increase copyNo from divisions by 1 when running with G4 native
         geometry (to be compatible with TGeo numbering.)
       - Migration to gcc 4.3.2 
   
    Examples:
      - Migration to the new TGeo mag field interface 
      - Material definition using directly Root objects,
      - Added test for user decay (in E03)
      - Macro g4libs.C replaced with a new one using Geant4 liblist;
        thanks to Ch.H. Christensen and D. Naumov for this development. 
    
    Tested with Geant4 9.2, CLHEP 2.0.4.2, Root 5.23/02, VGM 3.02

  21/07/2008
  v2-5:
    Geant4 VMC:
      - Implemented user defined regions via TG4VUserRegionConstruction
        base class
      - Implemented a possibility to select particles for
        which the external decayer will have a priority over
        using Geant4 decay table; the new command:
        /mcPhysics/setExtDecayerSelection [particleName1 ..]
      - Fix in applying CUTELE (problem reported by Stefano Sparato) 
      - Fixing problem (undefined symbols) when running in batch mode
        (reported by Mohammad Al-Turrany)
      - Implemented TVirtualMC::ForceDecayTime()
      - Improved and completed documentation
      - Plus other minor fixes and corrections  
   
    Examples:
      - Adding macros for running with Fluka
      - In E03: added an example for user defined regions in Geant4
      - Adding setting FPE mask to zero, in order to make sure than FPE for
        FE_OVERFLOW is disabled what is required for Geant4.
    
    Tested with Geant4 9.1.p02, CLHEP 2.0.3.2, Root 5.20/00, VGM 3.01

  18/12/2007
  v2-4:
    Geant4 VMC:
      - Geant4 VMC default physics list replaced with the
        physics lists provided in Geant4 selected by user
        via an option in TG4RunConfiguration class.
        - The classes used for selecting/building physics list
          are now moved in a new directory physics_list
        - The physics constructor classes were renamed
          from  TG4PhysicsConstructorXYZ to TG4XYZPhysics 
        - Some command defined in /mcPhysics were changed 
          with these modifications
      - Implemented new TVirtualMC functions for user defined
        particles, including their decay channels:
          DefineParticle()
          SetDecayMode()
      - Revised TMCProcess constants, adding new constants
        needed for Geant4 physics in root/vmc    
    
    Examples:
      - In E03: added an example for adding particles and ions      
        thanks to Mohammad Al-Turany
    
    Tested with Geant4 9.1, CLHEP 2.0.3.2, Root 5.17/08, VGM 3.00

  03/07/2007
  v2-3:
    Geant4 VMC:
      - Implemented non zero energy deposit in case of optical
        boundary process with the status Detection
        required by ALICE - thanks to Andrei Gheata
      - Migration to Geant4 9.0
      
     Tested with Geant4 9.0, CLHEP 2.0.3.1, Root 5.16/00, VGM 2.09
               

  30/05/2007:
  v2-2:
    Geant4 VMC:
      - Added a special process which pops particles
        defined by user during tracking from the VMC stack
        and passes them to Geant4.
        The process is not activated by default,
        but it has to be set via TG4PhysicsListOptions object.
      - Added an option for storing secondary particles in VMC
        in stepping; by default the secondaries are stored after
        the particle is tracked.
        The saving secondaries in stepping can be selected via
        command: /mcTracking/saveSecondariesInStep true
      - Implemented calls to a new VMC application function
        TVirtualMCApplication::MisalignGeometry()  

     Tested with Geant4 8.3, CLHEP 2.0.3.1, Root 5.15/08, VGM 2.09

  22/03/2007:
  v2-1:
    Geant4 VMC:
      - Adding application state, which is updated with each phase
        of MC; the calls to VMC are now checked with respect to
        the application state and a warning is issued of the call happens
        at wrong time.
      - A few fixes for running with G4Root navigation   
 
     Tested with Geant4 8.2.p01, CLHEP 2.0.3.1, Root 5.15/04, VGM 2.08.04

  18/12/2006
  v2-0:
    Geant4 VMC:
      - Added support for G4Root navigation
      - In TG4RunConfiguration user has to specify explicitely
        the way of geometry definition and selected navigation
        via these options:
        - geomVMCtoGeant4   - geometry defined via VMC, G4 native navigation
        - geomVMCtoRoot     - geometry defined via VMC, Root navigation
        - geomRoot          - geometry defined via Root, Root navigation
        - geomRootToGeant4  - geometry defined via Root, G4 native navigation
        - geomGeant4        - geometry defined via Geant4, G4 native navigation
     - Restructuring code in geometry category:
       - Implementation of the VMC functions for building geometry
         now in TG4MCGeometry : TVirtualMCGeometry; 
       - TGeant4 instatiates either TG4MCGeometry or TGeoMCGeometry
         depending on user choice 
     - Migration to Geant4 8.2:
         Updated TG4ParticlesManager - PDG codes for nuclei now
         defined in Geant4, these codes are used when storing particles
         in the VMC stack  

    Examples:
       - In all example geometry is now by default defined via in Root;
         geonmetry defined via VMC is moved in Ex0NDetectorConstractionOld
         class
       - Getting media Id needded for setting cuts or optical properties
         via new function TVirtualMC::MediumId(const Text_t* mediumName)
       - Updated test_suite to include all ways of geometry
         definition/naviagtion, added new run_suite.sh to test run_*C macros            
        
    Tested with Geant4 8.2, CLHEP 2.0.3.1, Root 5.14/00, VGM 2.08.04
    

  06/07/2006
  v1-9:
    Geant4 VMC:
      Added support for geometry and primary generator defined via Geant4;
      user can now override also functions
      TG4RunConfiguration::CreateDetectorConstruction();
      TG4RunConfiguration::CreatePrimaryGenerator()

    Tested with Geant4 8.1, CLHEP 2.0.2.3, Root 5.11/06, VGM 2.08

  12/01/2006
  v1-8:
    Geant4 VMC:
      Migration to Geant4 8.0:
      - TG4RunConfiguration now only provides functions for creating
        user mandatory and action classes; ConfigureRunManager() function
        is moved in TG4RunManager;
        in a user derived class it now sufficient to override only the
        TG4RunConfiguration::CreatePhysicsList() method.
      - New way of selecting physics via TG4PhysicsListOptions
      - Migration to CLHEP 2.0.2.2 

    Tested with Geant4 8.0, CLHEP 1.9.2.2 and 2.0.2.2, Root 5.08/00, VGM 2.07

  22/07/2005
  v1-7:
    Geant4 VMC:
     - Implemented new VMC functions for definition of surfaces
       and material properties for optical physics
     - Added possibility to define maximum number of optical photons
       per step by user (command /mcPhysics/setCerenkovMaxPhotons)
     
    Examples:
     - Added E06 example which demonstrates Cherenkov and optical photon 
       processes

    Tested with Geant4 7.0 and 7.1, Root 5.02/00, VGM 2.05

  29/03/2005
  v1-6:
    Geant4 VMC:
      - Added possibility to use VGM for geometry conversion and
        export to XML as an alternative to geant4_vmc/convertors;
        use of VGM is optional, handled by the environment variable USE_VGM.
        If USE_VGM is set, the VGM is used for all geometry conversions
        by default, old roottog4 convertor can be selected via command:
        /mcDet/useVGM false
        old g4toxml convertor is disabled.
      - Fixed setting cuts and G3 controls via special cuts and
        special control processes.
      
    Tested with Geant4 7.0, Root 4.03/02, VGM 2.03
 

  04/01/2005
  v1-5:
    Geant4 VMC:
      Migration to Geant4 version 7.0;
      correction in passing step limits defined in tracking media
      to Geant4.
      Doxygen documentation.

    Examples:
      Added test_suite.sh to test automatically all examples with
      all MCs; added configuration macros for TGeant3TGeo.
      
    Tested with Geant4 7.0, Root 4.02/00
 

  05/10/2004
  v1-4:
    Geant4_vmc:
      Updated for modifications in TVirtualMC;
      corrections in Gmtod(), Gdtom() functions 

    Convertors
    g4toxml:
      AGDD convertor now generates full AGDD document,
      the TOP.xml file is not needed anymore.
    roottog4:
      Added support for composite shapes;
      Added support for divisions in reflected mothers; 
      Corrections in mapping tracking media Ids to G4 logical volumes
    
    Platform names have been changed according to root-config --arch;
    this changes also the target lib and tmp directories names.
    Tested with Geant4 6.2, Root 4.01/02


  26/04/2004
  v1-3:
    Convertors:
    g4toxml:
      Design updated to support two XML format: AGDD and GDML (new);
      the command for XML file generation changed to 
        /xml/generateAGDD [volName]
        /xml/generateGDML [volName] 

    roottog4:
       Bug fixes in sphere (rmax); polycone and polyhedra solids
       (do not modify original parameters of TGeo shapes).
    
    Tested with Geant4 6.1, Root 3.10/02 and Root 4.00/03.

    
  18/12/2003:
  v1-2:
    Geant4_vmc:
    Update to Geant4 6.0 (removal of g4std, G4std);
    updated physics contructors according to novice examples in
    Geant4 6.0. 

    Convertors - g4toxml:
    Corrected export of reflected volumes. 

    Tested with Geant4 6.0, Root 3.10/01.
    

  10/10/2003:
  v1-1:
    Geant4_vmc:
    Implemented new functions from TVirtualMC
    enabling user to define own particles and ions
    + getter functions:
    DefineParticle(..)
    DefineIon(..)
    ParticleName(..) const
    ParticleMass(..) const	  
    Double_t  ParticleCharge(..) const
    Double_t  ParticleLifeTime(..) const
    TMCParticleType ParticleMCType(..) const

    Examples:
    Update to changes in VMC:
    removed functions TrackingRmax, TrackingZmax (not needed if default is used);
    removed calls to gMC->DefineParticles() in InitMC 
    (this function is going to be removed from TVirtualMC).  
   
    Tested with Geant4 5.2, Root 3.10/01.

  21/07/2003:
  v1-0:
    Convertors:
    Added new directory with geometry convertors:
    - roottog4 - convertor from Root to G4 (still in development);
    - g4toxml - convertor from G4 to XML (AGDD) - separated from
                geant4_vmc

    Geant4_vmc:
    Updated for changes in TVirtualMCStack;
    modifications to support geometry defined via TGeo
    using roottog4 convertor.
    
    Examples:
    In E01 added new functions for building geometry via TGeo
    as an alternative to old way via VMC;
    update for changes in TVirtualStack.  
    
    Tested with Geant4 5.2, Root 3.05/06.

  03/06/2003:
  v0-5:
    geant4_vmc:
    Enabled a user defined physics list:
    TG4VRunConfiguration can be overriden by a user own
    class instantiating a user own physics list
    (derived from G4VUserPhysicsList). 
    Update for Geant4 5.1.

    Examples:
    Corrected deleting of MC application
    (to avoid warning from deleting static G4 objects when exiting Root)
    
    Tested with Geant4 5.1, Root 3.05/04.

  13/03/2003:
  v0-4:
    geant4_vmc:
    Saving secondary particles to MC stack made optional
    (added /mcTracking/saveSecondaries command); 
    a few corrections.
    
    Examples:
    New example E03;    
    Corrected implementation in the examples stack classes
    - fixed meaning of the argument done (renamed toBeDone)
    to be consistent with TGeant3 implementation;

    Tested with Geant4 5.0, Root 3.05/03.

  29/01/2003:
  v0-3:
    Update to changes in TVirtualMC;
    the XML convertor classes made independent from Geant4 VMC.
    Tested with Geant4 5.0, Root 3.05/00.

  18/12/2002:
  v0-2:
    Update for new Geant4 version; 
    a few corrections (mainly in makefiles).
    Tested with Geant4 5.0, Root 3.04/01.

  12/10/2002:  
  v0-1:
    The first released version;
    tested with Geant4 4.1 + patch01, Root 3.03/09.
     
  20/09/2002:   
  First revision:
    Implementation of TVirtualMC interface (in Root) for Geant4;
    source: AliRoot/TGeant4.
    See previous history in AliRoot/AliGeant4/doc/history.
